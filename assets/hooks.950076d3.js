var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,o=(e,a)=>{for(var t in a||(a={}))i.call(a,t)&&s(e,t,a[t]);if(l)for(var t of l(a))r.call(a,t)&&s(e,t,a[t]);return e},n=(e,l)=>a(e,t(l));import{Y as u,R as d,b as c,j as v,d as p,z as m,G as f,Q as h,o as g,f as y,g as b,F as x,X as S,D as O,w as j,e as V,A as M,J as P,L as T,t as _}from"./vendor.337200be.js";const w=(e,a=!1)=>{const t=document.title,l=c(e);var i;v((()=>{document.title=l.value})),a&&(i=()=>{document.title=t},u()&&d(i));return e=>{l.value=e}};var H=p({name:"XVirtualList",props:{data:{type:Array,default:()=>[]},dataKey:{type:String,default:()=>"id"},itemSize:{type:Number,default:()=>40},poolBuffer:{type:Number,default:()=>50}},setup(e){const{data:a,poolBuffer:t,itemSize:l}=m(e),i=c(null),r=c([]),s=c(a.value.length*l.value);f(a,(e=>{s.value=e.length*l.value})),f(l,(e=>{s.value=a.value.length*e}));let u=0;const d=c(0);let v=!1;return h((()=>{if(!i.value)return;u=i.value.clientHeight;const e=[0,Math.ceil(u/l.value)+t.value];r.value=a.value.slice(e[0],e[0]+e[1]).map(((a,t)=>n(o({},a),{_index:e[0]+t})))})),{pool:r,scrollHeight:s,root:i,handleScroll:()=>{i.value&&(v||(v=!0,requestAnimationFrame((()=>{if(v=!1,!i.value)return;const e=[];e[0]=Math.floor(i.value.scrollTop/l.value)-Math.floor(t.value/2),e[0]=Math.max(e[0],0),e[1]=e[0]+Math.floor(i.value.clientHeight/l.value)+t.value,e[1]=Math.min(e[1],a.value.length),r.value=a.value.slice(e[0],e[1]).map(((a,t)=>n(o({},a),{_index:e[0]+t}))),d.value=e[0]*l.value}))))},paddingTop:d}}});const z=j()(((e,a,t,l,i,r)=>(g(),y("div",{class:"vue3-virtual-list-container",ref:"root",onScrollPassive:a[1]||(a[1]=(...a)=>e.handleScroll&&e.handleScroll(...a))},[b("div",{class:"vue3-virtual-list-scroll",style:`height: ${e.scrollHeight}px;padding-top: ${e.paddingTop}px`},[(g(!0),y(x,null,S(e.pool,(a=>(g(),y("div",{class:"vue3-virtual-list-item-container",key:a[e.dataKey],style:`height: ${e.itemSize}px`},[O(e.$slots,"default",{item:a,index:a._index},void 0,!0)],4)))),128))],4)],544))));H.render=z,H.__scopeId="data-v-f5709210";var L=p({name:"Hooks",components:{XVirtualList:H},setup(){const e=w("title",!0),a=c("title"),t=c("");return{title:a,updateTitle:()=>{e(a.value)},text:t,dataSource:[{name:"1",email:"a",address:"a"},{name:"1",email:"a",address:"a"},{name:"1",email:"a",address:"a"},{name:"1",email:"a",address:"a"},{name:"1",email:"a",address:"a"}]}}});const X={class:"list-container"},$={class:"item-container"},k={class:"cell cell-index"},A={class:"cell"},B={class:"cell"},D={class:"cell"};L.render=function(e,a,t,l,i,r){const s=V("v-md-editor"),o=V("XVirtualList");return g(),y(x,null,[M(b("input",{"onUpdate:modelValue":a[1]||(a[1]=a=>e.title=a)},null,512),[[P,e.title]]),b("button",{onClick:a[2]||(a[2]=(...a)=>e.updateTitle&&e.updateTitle(...a))},"更新标题"),b(s,{modelValue:e.text,"onUpdate:modelValue":a[3]||(a[3]=a=>e.text=a),height:"400px"},null,8,["modelValue"]),b("div",X,[b(o,{data:e.dataSource},{default:T((({item:e,index:a})=>[b("div",$,[b("div",k,_(a+1),1),b("div",A,_(e.name),1),b("div",B,_(e.email),1),b("div",D,_(e.address),1)])])),_:1},8,["data"])])],64)};export default L;
